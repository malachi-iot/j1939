# Adapted from estdlib 'basic' pio project

[platformio]
src_dir=../../..

[env]
framework = arduino

build_flags =
    -I ../../../src/can
    -I ../../../src/j1939
    -I ../../../ext/embr/src
    -I ../../../ext/embr/ext/estdlib/src

build_src_filter = +<src/> +<${platformio.workspace_dir}/..>

# Fun fact: adding these libs auto-adds about 1k RAM usage to M0 project
lib_deps = adafruit/CAN Adafruit Fork@^1.2.1, autowp/autowp-mcp2515@^1.0.3

[env:promicro]
build_flags = ${env.build_flags} -DAUTOWP_LIB=1
platform = atmelavr
board = micro

[env:m0]
build_flags = ${env.build_flags} -DAUTOWP_LIB=1
platform = atmelsam
board = adafruit_feather_m0

[env:m4]
platform = atmelsam
board = adafruit_feather_m4_can

[env:attiny]
build_flags = ${env.build_flags} -DAUTOWP_LIB=1
platform = atmelavr
board = attiny85

[env:esp32]
platform = espressif32
board = wemos_d1_mini32
monitor_speed = 115200
